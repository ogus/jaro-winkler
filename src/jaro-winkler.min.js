!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.JaroWinkler=t()}(this,function(){"use strict";return{getDistance:function(e,t,n){let r=String(e),i=String(t),l=function(e){let t={caseSensitive:!1,enableWinkler:!0,scalingFactor:.1,prefixLength:4};for(var n in t)e&&e.hasOwnProperty(n)&&typeof e[n]==typeof t[n]&&(t[n]=e[n]);return t.scalingFactor=Math.min(t.scalingFactor,.25),t}(n);if(0===r.length||0===i.length)return 0;if(l.caseSensitive||(r=r.toUpperCase(),i=i.toUpperCase()),r===i)return 1;let o=Math.floor(.5*Math.max(r.length,i.length))-1,a=new Array(r.length),f=new Array(i.length),g=0,h=0,c=0;for(let e=0;e<r.length;e++){h=e<o?0:e-o,c=e+o>i.length?i.length-1:e+o;for(let t=h;t<=c;t++)if(!0!==a[e]&&!0!==f[t]&&r[e]===i[t]){g++,a[e]=f[t]=!0;break}}if(0===g)return 0;let s=0,u=0;for(let e=0;e<a.length;e++)if(!0===a[e]){for(var p=s;p<f.length;p++)if(!0===f[p]){s=p+1;break}r[e]!==i[p]&&u++}u*=.5;let d=(g/r.length+g/i.length+(g-u)/g)/3;if(l.enableWinkler){let e=0;for(;r[e]===i[e]&&e<l.prefixLength;)e++;d+=e*l.scalingFactor*(1-d)}return d}}});
