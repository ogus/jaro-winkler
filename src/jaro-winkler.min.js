!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():e.JaroWinkler=n()}(this,function(){"use strict";function e(e,n,r){if(0===e.length||0===n.length)return 0;var t=function(e){var n={caseSensitive:!1,enableWinkler:!0,scalingFactor:.1,prefixLength:4};for(var r in n)e.hasOwnProperty(r)&&typeof e[r]==typeof n[r]&&(n[r]=e[r]);return n.scalingFactor=Math.min(n.scalingFactor,.25),n}(r);if(t.caseSensitive||(e=e.toUpperCase(),n=n.toUpperCase()),e===n)return 1;for(var i=Math.floor(.5*Math.max(e.length,n.length))-1,a=[new Array(e.length),new Array(n.length)],o=0,f=0,l=0,g=0;g<e.length;g++){f=g<i?0:g-i,l=g+i>n.length?n.length-1:g+i;for(var c=f;c<=l;c++)if(!0!==a[0][g]&&!0!==a[1][c]&&e[g]===n[c]){o++,a[0][g]=a[1][c]=!0;break}}if(0===o)return 0;var h=0,u=0;for(g=0;g<a[0].length;g++)if(!0===a[0][g]){for(c=h;c<a[1].length;c++)if(!0===a[1][c]){h=c+1;break}e[g]!==n[c]&&u++}var s=(o/e.length+o/n.length+(o-.5*u)/o)/3;if(t.enableWinkler){for(var p=0;e[p]===n[p]&&p<t.prefixLength;)p++;s+=p*t.scalingFactor*(1-s)}return s}return{similarity:function(n,r,t){return e(String(n),String(r),t||{})},distance:function(n,r,t){return 1-e(String(n),String(r),t||{})}}});
